const fs = require('fs')


const malwareDirectory = "./Malware"
const cleanFileDirectory = "./CleanFiles"

const execSync = require('child_process').execSync


const main = () => {
    let malwareFiles = []
    let cleanFiles = []

    // execSync(`../src/malwareEngine ./${malwareDirectory}/0d83906aa1c84a83028cd12f8ef9582a260f94e56c4254cb35735b98d7266b8e.exe`, {stdio: 'inherit'})

    //get a list of all of the clean files 
    fs.readdirSync(malwareDirectory).forEach(file => {
        malwareFiles.push(file)
        // console.log(file)
        try{
            execSync(`../src/malwareEngine ./${malwareDirectory}/${file}`,  {stdio: 'inherit'})

        }
        catch(e){
            console.log(`can't open`)
        }
    });

    // get a list of all of the malicious files 
    fs.readdirSync(cleanFileDirectory).forEach(file => {
        cleanFiles.push(file)
        // console.log(file)
        try{
            execSync(`../src/malwareEngine ./${cleanFileDirectory}/${file}`,  {stdio: 'inherit'})
        }
        catch(e){
            console.log(`can't open`)
        }
    });

    //run all the files through go engine & store output 

    

    //create csv of different frequencies

}

main()

